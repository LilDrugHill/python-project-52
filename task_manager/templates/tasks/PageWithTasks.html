{% extends 'base.html' %}
{% load i18n %}
{% load crispy_forms_tags %}
{% block content %}

<h1>{{title}}</h1>
<form method="get" class="form-inline center">
    {{ filter.form|crispy }}
    <button class="btn btn-primary" type="submit">{% trans 'Show' %}</button>
</form>
<table class="table table-striped">
    <a href="{% url 'create_task' %}">{% trans 'Create task' %}</a>
    <thead>
    <tr><th>{% trans 'ID' %}</th>
        <th>{% trans 'Name' %}</th>
        <th>{% trans 'Status' %}</th>
        <th>{% trans 'Author' %}</th>
        <th>{% trans 'Executor' %}</th>
        <th>{% trans 'Creation date' %}</th><td></td></tr>
    </thead>
    <tbody>
    {% for p in filter.qs %}
    <tr><td>{{ p.id }}</td>
        <td><a href='{% url "show_task" pk=p.pk %}'>{{ p.name }}</a></td>
        <td>{{ p.status.name }}</td>
        <td>{{ p.author }}</td>
        <td>{{ p.executor }}</td>
        <td>{{ p.created_at }}</td>
        <td><a href="{% url 'update_task' pk=p.pk %}">{% trans 'Update' %}</a>|<a href="{% url 'delete_task' pk=p.pk%}">{% trans 'Delete' %}</a></td>
    </tr>
    {% endfor %}
    </tbody>
</table>
{% endblock %}